(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7167:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var r=a(163),n=a(7555);async function s(e){let t=await i(e);return await o(t)}async function o(e){let t=[];return await fetch("https://vlr.orlandomm.net/api/v1/teams/"+e).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{e.data.upcoming.map(e=>{t.push({id:e.match.id,event:{name:e.event.name,logo:e.event.logo},teams:[e.teams[0].name,e.teams[1].name],date:e.utc})})}).catch(e=>{console.error("Fetch error:",e)}),t}async function i(e){let t="";return await fetch("https://vlr.orlandomm.net/api/v1/teams?limit=all").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(a=>{let r=a.data.find(t=>t.name.toLowerCase()===e.toLowerCase());r&&(t=r.id)}).catch(e=>{console.error("Fetch error:",e)}),t}var l=a(7506);let c=()=>{let[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=localStorage.getItem("games");o(e?JSON.parse(e):[]),"granted"!==Notification.permission&&Notification.requestPermission(),"granted"===Notification.permission&&a.forEach(e=>{let t=new Date(e.date),a=new Date,r=t.getTime()-a.getTime();r>0&&setTimeout(()=>{new Notification("Game Starting",{body:"".concat(e.event.name,": ").concat(e.teams[0]," vs ").concat(e.teams[1]," is starting now!"),icon:e.event.logo})},r)})},[]);let i=async t=>{t.preventDefault(),await c(e)},c=async e=>{try{let t=await s(e);o(e=>{let a=[...e,...t],r=new Map;a.forEach(e=>r.set(e.id,e));let n=Array.from(r.values());return localStorage.setItem("games",JSON.stringify(n)),n})}catch(e){console.error("Error fetching games:",e)}};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,r.jsxs)("form",{onSubmit:i,className:"flex space-x-2 mb-8",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search Tournament...",value:e,onChange:e=>t(e.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:ring focus:ring-blue-200"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Search"})]}),(0,r.jsx)("div",{className:"space-y-6",children:(e=>{let t={};return e.forEach(e=>{let a=new Date(e.date);if(isNaN(a.getTime()))return;let r=a.toLocaleDateString("en-CA",{timeZone:"Europe/Berlin",year:"numeric",month:"2-digit",day:"2-digit"});t[r]||(t[r]=[]),t[r].push(e)}),Object.entries(t).sort((e,t)=>{let[a]=e,[r]=t;return a.localeCompare(r)})})(a).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"bg-white border rounded shadow-sm p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:t}),(0,r.jsx)("ul",{className:"space-y-3",children:a.map(e=>(0,r.jsxs)("li",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded hover:bg-gray-100 transition",children:[(0,r.jsx)(l.default,{src:e.event.logo,alt:e.event.name+" Logo",width:24,height:24,className:"rounded"}),(0,r.jsxs)("div",{className:"text-sm text-gray-800",children:[(0,r.jsx)("span",{className:"font-bold",children:e.event.name})," â€”"," ",(0,r.jsxs)("span",{className:"text-gray-600",children:[e.teams[0]," vs ",e.teams[1]," at"," ",new Date(e.date).toLocaleTimeString("en-GB",{timeZone:"Europe/Berlin",hour:"2-digit",minute:"2-digit",hour12:!1})]})]})]},e.id))})]},t)})})]})},d=e=>{let{isOpen:t,onClose:a,onEnableNotifications:s}=e,o=(0,n.useRef)(null);return((0,n.useEffect)(()=>{function e(e){o.current&&!o.current.contains(e.target)&&a()}return t?(document.addEventListener("mousedown",e),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("mousedown",e),document.body.style.overflow=""}},[t,a]),t)?(0,r.jsx)("div",{className:"   fixed inset-0 z-50 flex items-center justify-center   backdrop-blur-sm   bg-transparent   ",role:"dialog","aria-modal":"true",children:(0,r.jsxs)("div",{ref:o,className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Settings"}),(0,r.jsx)("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Enable Notifications"}),(0,r.jsx)("button",{onClick:a,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white","aria-label":"Close settings modal",children:"\xd7"})]})}):null},m=e=>(0,r.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,r.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06A1.65 1.65 0 0 0 15 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 8.6 15a1.65 1.65 0 0 0-1.82-.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.6c.43-.26.94-.37 1.43-.33h.14c.49-.04 1 .07 1.43.33a1.65 1.65 0 0 0 1.82.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9c.26.43.37.94.33 1.43v.14c.04.49-.07 1-.33 1.43Z"})]}),u=()=>{let[e,t]=(0,n.useState)(!1),a=async()=>{"granted"!==Notification.permission?"granted"===await Notification.requestPermission()&&alert("Notifications enabled!"):alert("Notifications are already enabled."),t(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>t(!0),className:"p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Open settings",children:(0,r.jsx)(m,{})}),(0,r.jsx)(d,{isOpen:e,onClose:()=>t(!1),onEnableNotifications:a})]})};function h(){return(0,r.jsxs)("main",{className:"max-w-3xl mx-auto p-4",children:[(0,r.jsx)("div",{className:"flex justify-end mb-6",children:(0,r.jsx)(u,{})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Valorant Game Schedule"}),(0,r.jsx)(c,{})]})}},8131:(e,t,a)=>{Promise.resolve().then(a.bind(a,7167))}},e=>{e.O(0,[506,910,176,358],()=>e(e.s=8131)),_N_E=e.O()}]);